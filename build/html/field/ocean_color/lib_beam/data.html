
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Data preparation &mdash; Developer Cloud Sandbox 1.0 documentation</title>
    
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="Developer Cloud Sandbox 1.0 documentation" href="../../../index.html" />
    <link rel="up" title="Algal bloom detection with Envisat MERIS" href="index.html" />
    <link rel="next" title="Workflow design" href="workflow.html" />
    <link rel="prev" title="Rationales for your processing chain" href="rational.html" />
    <link rel="stylesheet" href="../../../_static/terradue.css" type="text/css" />
  
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">


  </head>
  <body>

<header>
	<div class="container">
		<a href="http://www.terradue.com" target="_blank"><img id="logo" src="../../../_static/t2Logo.png"></a>
		<div id="t2-random-slogan">digital earth scalers</div>
	</div>
</header>
<div id="navbar" class="navbar navbar-default"><!-- navbar-fixed-top-->
    <div class="container">
      <div class="navbar-header pull-right">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../index.html"><img class="navbar-brand-logo" src="../../../_static/sandboxLogo.png" alt="opennebula-logo"/></a>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            <li class="dropdown">
    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        <b>1.0</b><b class="caret"></b>
    </a>
    <ul class="dropdown-menu globaltoc">
        <li><a href="/devel">1.2 (Devel)</a></li>
        <li><a href="/stable">1.1 (Stable)</a></li>
    </ul>
</li>

            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developer/index.html">Developer&#8217;s Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../design/index.html">Design Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Field Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/index.html">Developer&#8217;s Reference Guide</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Data preparation</a><ul>
<li><a class="reference internal" href="#copying-test-data-on-your-sandbox">Copying test data on your Sandbox</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="rational.html" title="Previous Chapter: Rationales for your processing chain"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Rationales for y...</span>
    </a>
  </li>
  <li>
    <a href="workflow.html" title="Next Chapter: Workflow design"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Workflow design &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li><div id="sourcelink">
  <a href="https://github.com/Terradue/doc-developer-sandbox/blob/master/source/field/ocean_color/lib_beam/data.rst" rel="nofollow" target="_blank">Source</a>
</div></li>
            
          </ul>
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
<div class="alert alert-danger alert-error alert-dismissable" style="margin-left: 15px; margin-right: 15px;">
	<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
    <p class="first admonition-title">
        Warning
    </p>
    <p class="last">
        This guide is under development. The material on this page needs to be reviewed for completeness and accuracy. This guide may have not been updated yet from the last release.
    </p>
</div>

      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/index.html">Getting Started Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../developer/index.html">Developer&#8217;s Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../design/index.html">Design Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Field Guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Ocean colour</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Algal bloom detection with Envisat MERIS</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="learn.html">What you will learn</a></li>
<li class="toctree-l4"><a class="reference internal" href="goal.html">Addressing a scientific and processing goal</a></li>
<li class="toctree-l4"><a class="reference internal" href="rational.html">Rationales for the processing chain</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="">Data preparation</a></li>
<li class="toctree-l4"><a class="reference internal" href="workflow.html">Workflow design</a></li>
<li class="toctree-l4"><a class="reference internal" href="nodes/index.html">Processing nodes design</a></li>
<li class="toctree-l4"><a class="reference internal" href="testing.html">Application integration and testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="exploitation.html">Application exploitation</a></li>
<li class="toctree-l4"><a class="reference internal" href="further.html">Going further</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../insar/index.html">InSAR interferometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dem/index.html">Digital Elevation Model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference/index.html">Developer&#8217;s Reference Guide</a></li>
</ul>
<div id="sourcelink">
  <a href="https://github.com/Terradue/doc-developer-sandbox/blob/master/source/field/ocean_color/lib_beam/data.rst" rel="nofollow" target="_blank">Source</a>
</div>
<form action="../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>

    <div class="col-md-9">
      
  <div class="section" id="data-preparation">
<h1>Data preparation<a class="headerlink" href="#data-preparation" title="Permalink to this headline">¶</a></h1>
<p>The data preparation step foresees to copy test data to the sandbox and register it in the sandbox local catalogue.</p>
<p>The application uses Envisat MERIS Level 1 Reduced Resolution data. ESA provides access to the full mission data through MyEarthNet and via the G-POD framework.</p>
<p>For the purpose, Terradue has created a catalogue with a subset of the Envisat MERIS Level 1 Reduced Resolution mission data.</p>
<p>This section shows how to copy and register the test data to the sandbox local storage and sandbox local catalogue.
The same techniques can be applied to the ESA G-POD catalogues or other OpenSearch catalogues.</p>
<div class="section" id="copying-test-data-on-your-sandbox">
<h2>Copying test data on your Sandbox<a class="headerlink" href="#copying-test-data-on-your-sandbox" title="Permalink to this headline">¶</a></h2>
<p>The sandbox includes a catalogue exposing the OpenSearch search engine.
A Web interface is available at <a class="reference external" href="http:/">http:/</a>/&lt;sandbox IP&gt;/catalogue/sandbox
When initiated the sandbox contains no data so clicking on the Search button will not return results.</p>
<p>You will the ciop-catcp <a class="footnote-reference" href="#f1" id="id1">[1]</a> utility to copy both the data and metadata from the source catalogue. The source catalogue is the Terradue catalogue containing a subset of the Envisat MERIS mission.
The ciop-catcp utility takes an Open Search URL and a few options to optionally copy the data and register the metadata.</p>
<p>On the sandbox shell run the command:</p>
<div class="highlight-bash"><div class="highlight"><pre>ciop-catcp -m byval <span class="s2">&quot;http://grid-eo-catalog.esrin.esa.int/catalogue/gpod/MER_RR__1P/rdf?start=2012-04-05T10:00:00&amp;stop=2012-04-05&amp;count=5&quot;</span>
ciop-catcp -m byval <span class="s2">&quot;http://grid-eo-catalog.esrin.esa.int/catalogue/gpod/MER_RR__1P/rdf?start=2012-04-04T10:00:00&amp;stop=2012-04-04&amp;count=5&quot;</span>
</pre></div>
</div>
<p>TODO: complete the command list</p>
<p>To check the registered data and its accessibility go back to the sandbox catalogue web interface and click the Search button. The graphical interface will show the data now available om the sandbox.
Click on one product of the list on the left and then on the Access tab below the map. Finally click on the HTTP URL. The download of the select MERIS Level 1 product starts.</p>
<p>Copy the link to the selected MERIS file, go back to the sandbox shell and type</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span>
ciop-copy -o ./ &lt;URL of the MERIS file&gt;
</pre></div>
</div>
<p>This will copy the MERIS product from the sandbox to your home folder.</p>
<p>The ciop-copy <a class="footnote-reference" href="#f2" id="id2">[2]</a> utility does more than simpy copying HTTP URLs, it can also consume the catalogue entry RDF URL as input.
Go back to the web interface, and click on Metadata tab, and on the RDF logo. This will open the MERIS product catalogue entry in the RDF format. Copy that URL and use it as argument to ciop-copy:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span>
ciop-copy -o ./ &lt;catalogue URL of the MERIS file in the RDF format&gt;
</pre></div>
</div>
<p>You are done! You have test data on your sandbox and have understood how to copy it from a storage (the sandbox storage).</p>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="f1" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td><a class="reference internal" href="../../../reference/man/ciop-copy.html"><em>ciop-catcp man page</em></a></td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="f2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><a class="reference internal" href="../../../reference/man/ciop-copy.html"><em>ciop-copy man page</em></a></td></tr>
</tbody>
</table>
</div>
</div>


    </div>
      
  </div>
</div>
<footer>
	<div class="container">
		<img src="../../../_static/t2LogoLittleWhite.png">
		&nbsp;&nbsp;&nbsp;Copyright 2006-2014 &copy; Terradue. All Rights Reserved. Please send comments to <a href="mailto:info [at] terradue [dot] com">info</a>. <p class="pull-right">This site is hosted by <a href="http://www.terradue.com">Terradue</a>.</p>
	</div>
</footer>

  </body>
</html>